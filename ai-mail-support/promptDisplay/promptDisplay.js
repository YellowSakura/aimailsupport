(()=>{let e=document.createElement("div");e.id="amsOuterRequest";let t=e.attachShadow({mode:"open"}),n=document.createElement("div");n.id="amsInnerRequest",t.appendChild(n);let a=document.createElement("link");a.rel="stylesheet",a.href=browser.runtime.getURL("/promptDisplay/promptDisplay.css"),n.appendChild(a);let s=document.createElement("textarea");s.className="auto-resizing-textarea",s.placeholder=messenger.i18n.getMessage("promptDisplay.placeholder"),s.rows=1,n.appendChild(s);let d=document.createElement("button");d.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
        </svg>
    `,d.addEventListener("click",()=>{browser.runtime.sendMessage({action:"sendUserPromptToBackground",data:{userPrompt:s.value}})}),n.appendChild(d);let l=document.createElement("span");l.className="close-icon",l.innerHTML="&times;",l.addEventListener("click",()=>{e.remove()}),n.appendChild(l),s.addEventListener("input",()=>{d.classList.toggle("show",""!==s.value.trim())}),document.body.appendChild(e)})();